<!DOCTYPE html>
<html lang="en">
  <!--<< Header Area >>-->
  <head>
    <!-- ========== Meta Tags ========== -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="namespace-it" />
    <meta
      name="description"
      content="Megatron Car - Premium Car Dealer & Services in Dubai-UAE"
    />
    <!-- ======== Page title ============ -->
    <title>Megatron Car - Premium Car Dealer & Services</title>
    <!--<< Favcion >>-->
    <link rel="icon" type="image/png" href="assets/img/logo/black-logo.png" />

    <!--<< Bootstrap min.css >>-->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <!--<< All Min Css >>-->
    <link rel="stylesheet" href="assets/css/all.min.css" />
    <!--<< Animate.css >>-->
    <link rel="stylesheet" href="assets/css/animate.css" />
    <!--<< Magnific Popup.css >>-->
    <link rel="stylesheet" href="assets/css/magnific-popup.css" />
    <!--<< MeanMenu.css >>-->
    <link rel="stylesheet" href="assets/css/meanmenu.css" />
    <!--<< Swiper Bundle.css >>-->
    <link rel="stylesheet" href="assets/css/swiper-bundle.min.css" />
    <!--<< Nice Select.css >>-->
    <link rel="stylesheet" href="assets/css/nice-select.css" />
    <!--<< Color.css >>-->
    <link rel="stylesheet" href="assets/css/color.css" />
    <!--<< Main.css >>-->
    <link rel="stylesheet" href="assets/css/main.css" />

    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <!-- Preloader Start -->
    <div id="preloader" class="preloader">
      <!-- <div class="animation-preloader">
        <div class="spinner"></div>
        <div class="txt-loading">
          <span data-text-preloader="M" class="letters-loading"> M </span>
          <span data-text-preloader="E" class="letters-loading"> E </span>
          <span data-text-preloader="G" class="letters-loading"> G </span>
          <span data-text-preloader="A" class="letters-loading"> A </span>
          <span data-text-preloader="T" class="letters-loading"> T </span>
          <span data-text-preloader="R" class="letters-loading"> R </span>
          <span data-text-preloader="0" class="letters-loading"> O </span>
          <span data-text-preloader="N" class="letters-loading"> N </span>
        </div>
        <p class="text-center">Loading</p>
      </div> -->
           <div class="animation-preloader">
  <div class="spinner"></div>
  <div class="logo-loading">
    <img src="assets/img/logo/logo.png" style="width: 300px; height: 300px;" alt="Logo" />
  </div>
  <p class="text-center">Loading</p>
</div>
     
      <div class="loader">
        <div class="row">
          <div class="col-3 loader-section section-left">
            <div class="bg"></div>
          </div>
          <div class="col-3 loader-section section-left">
            <div class="bg"></div>
          </div>
          <div class="col-3 loader-section section-right">
            <div class="bg"></div>
          </div>
          <div class="col-3 loader-section section-right">
            <div class="bg"></div>
          </div>
        </div>
      </div>
    </div>

    <!--<< Mouse Cursor Start >>-->
    <!-- <div class="mouse-cursor cursor-outer"></div>
    <div class="mouse-cursor cursor-inner"></div> -->

    
      <div class="custom-cursor">
    <img src="assets/img/logo/k.png" alt="Cursor" />
  </div>

  <script>
    const cursor = document.querySelector('.custom-cursor');

document.addEventListener('mousemove', (e) => {
  cursor.style.top = `${e.clientY}px`;
  cursor.style.left = `${e.clientX}px`;
});
  </script>

    <!-- Back To Top Start -->
    <button id="back-top" class="back-to-top">
      <i class="fa-regular fa-arrow-up"></i>
    </button>

    <!-- Offcanvas Area Start -->
    <div class="fix-area">
      <div class="offcanvas__info">
        <div class="offcanvas__wrapper">
          <div class="offcanvas__content">
            <div
              class="offcanvas__top mb-5 d-flex justify-content-between align-items-center"
            >
              <div class="offcanvas__logo">
                <a href="index.html">
                  <img
                    src="assets/img/logo/logo.png"
                    alt="logo-img"
                    style="width: 7vw"
                  />
                </a>
              </div>
              <div class="offcanvas__close">
                <button>
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </div>

            <div class="mobile-menu fix mb-3"></div>
            <div class="offcanvas__contact">
              <h4>Contact Info</h4>
              <ul>
                <li class="d-flex align-items-center">
                  <div class="offcanvas__contact-icon">
                    <i class="fal fa-map-marker-alt"></i>
                  </div>
                  <div class="offcanvas__contact-text">
                    <a target="_blank" href="#">Crystal Plaza,Corniche St, Al Majaz 1- Sharjah-UAE</a>
                  </div>
                </li>
                <li class="d-flex align-items-center">
                  <div class="offcanvas__contact-icon mr-15">
                    <i class="fal fa-envelope"></i>
                  </div>
                  <div class="offcanvas__contact-text">
                    <a href="mailto:optimusmegatroncars@gmail.com"
                      ><span class="mailto:optimusmegatroncars@gmail.com"
                        >optimusmegatroncars@gmail.com</span
                      ></a
                    >
                  </div>
                </li>

                <li class="d-flex align-items-center">
                  <div class="offcanvas__contact-icon mr-15">
                    <i class="far fa-phone"></i>
                  </div>
                  <div class="offcanvas__contact-text">
                    <a href="tel:+9710527094940">+(971) 0527094940</a>
                  </div>
                </li>
              </ul>
              <div class="header-button mt-4">
                <a href="contact.html" class="theme-btn text-center">
                  Get A Quote
                </a>
              </div>
              <div class="social-icon d-flex align-items-center">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
                <a href="#"><i class="fab fa-linkedin-in"></i></a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="offcanvas__overlay"></div>

    <!-- Header Section Start -->
    <header id="header-sticky" class="header-1 style-inner">
      <div class="container">
        <div class="mega-menu-wrapper">
          <div class="header-main">
            <div class="logo">
              <a href="index.html" class="header-logo">
                <img
                  src="assets/img/logo/logo.png"
                  alt="logo-img"
                  style="width: 12vw"
                />
              </a>
              <a href="index.html" class="header-logo-2">
                <img
                  src="assets/img/logo/logo.png"
                  alt="logo-img"
                  style="width: 7vw"
                />
              </a>
            </div>
            <div class="mean__menu-wrapper">
              <div class="main-menu">
                <nav id="mobile-menu">
                  <ul>
                    <li class="has-dropdown active menu-thumb">
                      <a href="index.html"> Home </a>
                    </li>
                    <li class="has-dropdown active d-xl-none">
                      <a href="index.html" class="border-none"> Home </a>
                    </li>
                    <li>
                      <a href="about.html">About</a>
                    </li>
                    <li>
                      <a href="service.html"> Services </a>
                    </li>
                    <li class="has-dropdown">
                      <a href="car.html"> Shop </a>
                    </li>
                    <li class="has-dropdown">
                      <a href="Hot.html"> Hot Deals </a>
                    </li>
                  </ul>
                </nav>
              </div>
            </div>
            <div
              class="header-right d-flex justify-content-end align-items-center"
            >
              <div class="header-button">
                <a href="contact.html" class="theme-btn"
                  >Contact Us <i class="fa-regular fa-car"></i
                ></a>
              </div>
              <div class="header__hamburger d-xl-none my-auto">
                <div class="sidebar__toggle">
                  <i class="fas fa-bars"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Breadcrumb Section Start -->
    <div
      class="breadcrumb-wrapper section-bg bg-cover"
      style="background-image: url('assets/img/breadcrumb-bg.jpg')"
    >
      <div class="container">
        <div class="page-heading">
          <div class="breadcrumb-sub-title">
            <h1 class="wow fadeInUp" data-wow-delay=".3s">Hot Deals</h1>
          </div>
          <ul class="breadcrumb-items wow fadeInUp" data-wow-delay=".5s">
            <li>
              <a href="index.html"> Home </a>
            </li>
            <li>
              <i class="fa-regular fa-chevrons-right"></i>
            </li>
            <li>Hot Deals</li>
          </ul>
        </div>
      </div>
    </div>

    <div
      id="hot-deal"
      class="grid grid-col-1 w-[90%] mx-auto md:grid-cols-2 gap-5 min-h-screen   from-gray-100 to-gray-300 pb-5 pt-5"
    ></div>

    <script>
      // FETCH HOT DEAL DATA
      fetch("http://localhost:5000/api/v1/hot-deals")
        .then((response) => response.json())
        .then((cars) => {
          let carList = document.getElementById("hot-deal");
          carList.innerHTML = ""; // Clear previous content

          cars.forEach((car, index) => {
            // Ensure endDate is parsed correctly
            const endDate = new Date(car.endDate);

            let carItem = `
        <div class="relative   transform hover:scale-105 transition-transform duration-300 p-4 shadow-lg rounded-lg border">
          <!-- Card Image -->
          <div class="relative  ">
             <img src="http://localhost:5000${
               car.carDetails.images[0]
             }" alt="Car Image" class="w-full h-64 object-cover rounded-lg">
            <div class="absolute top-2 left-2 bg-red-500 text-white text-sm font-bold px-3 py-1 rounded-lg shadow-lg">
              ðŸ”¥ Hot Deal
            </div>
          </div>
          
          <!-- Card Content -->
          <h2 class="text-2xl font-semibold text-gray-800 mt-4 text-center">${
            car.carDetails.make
          }</h2>
          <h3 class="text-xl font-semibold text-gray-800 mt-2 text-center">Offer Price - ${car.discountAmount.toLocaleString()} AED</h3>
          <p class="text-lg text-gray-600 mt-2 text-center">Don't miss this amazing deal!</p>

          <!-- WhatsApp Booking Button -->
          <div class="about-button wow fadeInUp pt-5 d-flex justify-center" data-wow-delay=".3s">
            <a href="https://wa.me/+971527094940?text=Hello,%20I%20am%20interested%20in%20booking%20a%20${encodeURIComponent(
              car.carDetails.make
            )}.%20Can%20you%20provide%20more%20details?" 
               target="_blank" 
               class="theme-btn px-4 py-2 bg-green-700 text-white rounded-lg hover:bg-green-800 transition">
              Book Now <i class="fa-brands fa-whatsapp ml-2"></i>
            </a>
          </div>

          <!-- Timer -->
          <div class="flex items-center justify-between bg-gray-100 rounded-lg px-4 py-2 mt-4 shadow-inner">
            <span class="text-gray-500 text-sm lg:text-lg  font-medium">Offer ends in:</span>
            <span id="timer-${index}" class="text-sm lg:text-lg font-bold text-red-600"></span>
          </div>
        </div>
      `;

            carList.innerHTML += carItem; // Append car item to the list

            // Timer Function
            function updateTimer() {
              const now = new Date();
              const diff = endDate - now;

              const timerElement = document.getElementById(`timer-${index}`);
              if (!timerElement) return;

              if (diff <= 0) {
                timerElement.textContent = "Expired";
                return;
              }

              const days = Math.floor(diff / (1000 * 60 * 60 * 24));
              const hours = Math.floor(
                (diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
              );
              const minutes = Math.floor(
                (diff % (1000 * 60 * 60)) / (1000 * 60)
              );
              const seconds = Math.floor((diff % (1000 * 60)) / 1000);

              timerElement.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
            }

            updateTimer();
            setInterval(updateTimer, 1000); // Update every second
          });
        })
        .catch((error) => console.error("Error fetching hot deals:", error));
    </script>

    <!-- Footer Section Start -->
    <section
      class="footer-section fix bg-cover"
      style="background-image: url('assets/img/footer-bg.jpg')"
    >
      <div class="container">
        <div class="footer-widgets-wrapper">
          <div class="row">
            <div
              class="col-xl-3 col-lg-4 col-md-6 wow fadeInUp"
              data-wow-delay=".2s"
            >
              <div class="single-footer-widget">
                <div class="widget-head">
                  <h3>Utility Pages</h3>
                </div>
                <ul class="list-items">
                  <li>
                    <a href="contact.html"> Privacy Policy </a>
                  </li>
                </ul>
              </div>
            </div>
            <div
              class="col-xl-3 col-lg-4 col-md-6 wow fadeInUp"
              data-wow-delay=".4s"
            >
              <div class="single-footer-widget">
                <div class="widget-head">
                  <h3>Explore</h3>
                </div>
                <ul class="list-items">
                  <li>
                    <a href="service.html"> Services </a>
                  </li>
                </ul>
              </div>
            </div>
            <div
              class="col-xl-3 col-lg-4 col-md-6 wow fadeInUp"
              data-wow-delay=".6s"
            >
              <div class="single-footer-widget">
                <div class="widget-head">
                  <h3>Find a car</h3>
                </div>
                <ul class="list-items">
                  <li>
                    <a href="car.html"> Our Shop </a>
                  </li>

                  <li>
                    <a href="contact.html"> Contact Us </a>
                  </li>
                </ul>
              </div>
            </div>
            <div
              class="col-xl-3 col-lg-4 col-md-6 wow fadeInUp"
              data-wow-delay=".8s"
            >
              <div class="single-footer-widget">
                <div class="widget-head">
                  <h3>Get In Touch</h3>
                </div>
                <ul class="contact-list">
                  <li>Crystal Plaza,Corniche St, Al Majaz 1- Sharjah-UAE</li>
                  <li>
                    <a href="tel:+9710527094940">+(971) 0527094940</a>
                  </li>
                  <li>
                    <a href="mailto:optimusmegatroncars@gmail.com"
                      >optimusmegatroncars@gmail.com</a
                    >
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="footer-bottom-wrapper">
          <p class="wow fadeInUp" data-wow-delay=".5s">
            Â© 2024 Megatron. All rights reserved.
          </p>
        </div>
      </div>
    </section>

    <!--<< All JS Plugins >>-->
    <script src="assets/js/jquery-3.7.1.min.js"></script>
    <!--<< Viewport Js >>-->
    <script src="assets/js/viewport.jquery.js"></script>
    <!--<< Bootstrap Js >>-->
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <!--<< Nice Select Js >>-->
    <script src="assets/js/jquery.nice-select.min.js"></script>
    <!--<< Waypoints Js >>-->
    <script src="assets/js/jquery.waypoints.js"></script>
    <!--<< Counterup Js >>-->
    <script src="assets/js/jquery.counterup.min.js"></script>
    <!--<< Swiper Slider Js >>-->
    <script src="assets/js/swiper-bundle.min.js"></script>
    <!--<< MeanMenu Js >>-->
    <script src="assets/js/jquery.meanmenu.min.js"></script>
    <!--<< Magnific Popup Js >>-->
    <script src="assets/js/jquery.magnific-popup.min.js"></script>
    <!--<< Wow Animation Js >>-->
    <script src="assets/js/wow.min.js"></script>
    <!--<< Ajax Mail Js >>-->
    <script src="assets/js/ajax-mail.js"></script>
    <!--<< Main.js >>-->
    <script src="assets/js/main.js"></script>
  </body>
</html>
